<!-- {% load static %} -->

<!-- USER PROFILE PAGE -->
<section id="user-profile" class="user-profile-section  py-5">
  <div class="row">
    <!-- Side Panel for Account Navigation -->
    <div class="col-lg-12 mb-5 mb-lg-0">
      <div class="account-sidebar bg-white p-4 shadow-sm rounded">
        <div class="user-info mb-4 text-center">
          <div class="user-avatar mb-3">
            <img src="{{ user.profile_pic.url }}" alt="User Avatar" class="rounded-circle" width="80"
              height="80" />
          </div>
          <div class="d-flex align-items-center justify-content-center gap-3">
            <h5 class="mb-1">{{ request.user.first_name }}</h5>
          </div>
        </div>





            <hr class="my-3" />
            <div class="account-nav">
              <ul class="nav flex-column">
                <li class="nav-item">
                  <a href="{% url 'user_profile' %}" class="nav-link active">
                    <i class="bi bi-person me-2"></i> Profile
                  </a>
                </li>
                <li class="nav-item">
                  <a href="{% url 'user_address' %}" class="nav-link">
                    <i class="bi bi-geo-alt me-2"></i> Address
                  </a>
                </li>
                <li class="nav-item">
                  <a href="{% url 'user_order' %}" class="nav-link">
                    <i class="bi bi-bag me-2"></i> Orders
                  </a>
                </li>
                <li class="nav-item">
                  <a href="{% url 'user_cart' %}" class="nav-link">
                    <i class="bi bi-cart me-2"></i> Cart
                  </a>
                </li>
                <li class="nav-item">
                  <a href="{% url 'user_wishlist' %}" class="nav-link">
                    <i class="bi bi-heart me-2"></i> Wishlist
                  </a>
                </li>
                <li class="nav-item">
                  <a href="{% url 'user_wallet' %}" class="nav-link">
                    <i class="bi bi-wallet2 me-2"></i> Wallet
                  </a>
                </li>
                <li class="nav-item">
                  <a href="{% url 'user_cust_care' %}" class="nav-link">
                    <i class="bi bi-headset me-2"></i> Customer Care
                  </a>
                </li>
                <li class="nav-item mt-3">
                  <a href="{% url 'logout_user' %}" class="nav-link text-danger">
                    <i class="bi bi-box-arrow-right me-2"></i> Logout
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
</section>
<!-- <section>
  <div class="col-lg-9">
    <div class="content-wrapper bg-white p-4 shadow-sm rounded">
      <div class="tab-content">
        {% block content %}
        {% endblock %}

      </div>
    </div>
  </div>
  </div>
  </div>
</section>  -->


<style>
  .user-profile-section .divider {
    width: 50px;
    height: 3px;
    background-color: #0d6efd;
  }

  .account-sidebar {
    position: sticky;
    top: 20px;
    transition: all 0.3s ease;
  }

  .account-sidebar .user-avatar img {
    border: 3px solid #f8f9fa;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }

  .account-nav .nav-link {
    color: #495057;
    border-radius: 4px;
    padding: 10px 15px;
    transition: all 0.2s ease;
  }

  .account-nav .nav-link:hover {
    background-color: #f8f9fa;
  }

  .account-nav .nav-link.active {
    background-color: #e9ecef;
    color: #0d6efd;
    font-weight: 500;
  }

  .content-wrapper {
    min-height: 600px;
  }

  .product-card {
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
  }

  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1) !important;
  }

  .address-list .card {
    transition: all 0.2s ease;
    border-width: 1px;
  }

  .address-list .card:hover {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
  }

  .address-list .card.border-primary {
    border-width: 2px;
  }

  .order-list .card:hover {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  }

  /* Tab transitions */
  .tab-pane {
    animation: fadeIn 0.3s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 991px) {
    .account-sidebar {
      position: relative;
      top: 0;
    }
  }
</style>

<script>
  // Initialize Bootstrap tooltips
  document.addEventListener("DOMContentLoaded", function () {
    var tooltipTriggerList = [].slice.call(
      document.querySelectorAll('[data-bs-toggle="tooltip"]')
    );
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });

    // Handle tab navigation via URL hash
    var hash = window.location.hash;
    if (hash) {
      const triggerEl = document.querySelector('a[href="' + hash + '"]');
      if (triggerEl) {
        bootstrap.Tab.getOrCreateInstance(triggerEl).show();
      }
    }

    // Update URL hash on tab change
    const tabEls = document.querySelectorAll('a[]');
    tabEls.forEach((tabEl) => {
      tabEl.addEventListener("shown.bs.tab", (event) => {
        window.location.hash = event.target.getAttribute("href");
      });
    });
  });

  // Handle all genres checkbox behavior
  document.getElementById("genreAll")?.addEventListener("change", function () {
    let isChecked = this.checked;
    document.querySelectorAll(".genre-checkbox").forEach((checkbox) => {
      checkbox.checked = false;
      checkbox.disabled = isChecked;
    });
  });
</script>