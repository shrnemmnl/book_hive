{% load static %}

<!-- USER PROFILE PAGE -->
<section id="user-profile" class="user-profile-section py-3">
  <div class="row g-3">
    <!-- Side Panel for Account Navigation -->
    <div class="col-lg-12 mb-3">
      <div class="account-sidebar bg-white p-3 rounded shadow-sm">
        <div class="user-info mb-3 text-center">
          <div class="user-avatar mb-2">
            <img src="{{ user.profile_pic.url }}" alt="User Avatar" class="rounded-circle border border-light" style="width: 70px; height: 70px; object-fit: cover;" />
          </div>
          <h5 class="fw-bold mb-1" style="font-size: 1.1rem;">{{ request.user.first_name }}</h5>
        </div>

        <hr class="my-2" style="border-color: #e9ecef;" />

        <div class="account-nav">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a href="{% url 'user_profile' %}" class="nav-link {% if request.path == '/user_profile/' %}active{% endif %}" style="font-size: 0.9rem;">
                <i class="bi bi-person me-2"></i> Profile
              </a>
            </li>
            <li class="nav-item">
              <a href="{% url 'user_address' %}" class="nav-link" style="font-size: 0.9rem;">
                <i class="bi bi-geo-alt me-2"></i> Address
              </a>
            </li>
            <li class="nav-item">
              <a href="{% url 'user_order' %}" class="nav-link" style="font-size: 0.9rem;">
                <i class="bi bi-bag me-2"></i> Orders
              </a>
            </li>
            <li class="nav-item">
              <a href="{% url 'user_cart' %}" class="nav-link" style="font-size: 0.9rem;">
                <i class="bi bi-cart me-2"></i> Cart
              </a>
            </li>
            <li class="nav-item">
              <a href="{% url 'user_wishlist' %}" class="nav-link" style="font-size: 0.9rem;">
                <i class="bi bi-heart me-2"></i> Wishlist
              </a>
            </li>
            <li class="nav-item">
              <a href="{% url 'user_wallet' %}" class="nav-link" style="font-size: 0.9rem;">
                <i class="bi bi-wallet2 me-2"></i> Wallet
              </a>
            </li>
            <li class="nav-item">
              <a href="{% url 'user_cust_care' %}" class="nav-link" style="font-size: 0.9rem;">
                <i class="bi bi-headset me-2"></i> Customer Care
              </a>
            </li>
            <li class="nav-item mt-2">
              <a href="{% url 'logout_user' %}" class="nav-link text-danger" style="font-size: 0.9rem;">
                <i class="bi bi-box-arrow-right me-2"></i> Logout
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .user-profile-section {
    background-color: #f8f9fa;
  }

  .account-sidebar {
    position: sticky;
    top: 15px;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .account-sidebar .user-avatar img {
    border: 2px solid #e9ecef;
    transition: transform 0.2s ease;
  }

  .account-sidebar .user-avatar img:hover {
    transform: scale(1.05);
  }

  .account-nav .nav-link {
    color: #495057;
    border-radius: 6px;
    padding: 8px 12px;
    transition: all 0.2s ease;
    font-weight: 500;
  }

  .account-nav .nav-link:hover {
    background-color: #f1f3f5;
    color: #0d6efd;
  }

  .account-nav .nav-link.active {
    background-color: #0d6efd;
    color: #ffffff;
    font-weight: 600;
  }

  .account-nav .nav-link.text-danger {
    font-weight: 500;
  }

  .account-nav .nav-link.text-danger:hover {
    background-color: #f8d7da;
    color: #dc3545;
  }

  @media (max-width: 991px) {
    .account-sidebar {
      position: relative;
      top: 0;
    }
  }
</style>

<script>
  // Initialize Bootstrap tooltips
  document.addEventListener("DOMContentLoaded", function () {
    var tooltipTriggerList = [].slice.call(
      document.querySelectorAll('[data-bs-toggle="tooltip"]')
    );
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });
  });
</script>