{% load static %}
{% include 'includes/header.html' %}

<div class="container-fluid">
  <div class="row">
    <!-- Include sidebar -->
    <div class="col-lg-2">
      {% include 'user/UserProfile/sidebar.html' %}
    </div>

    <!-- Main Content Column -->
    <div class="col-lg-10 py-5">
      <div class="content-wrapper bg-white p-4 shadow-sm rounded">
        <h4 class="mb-4">Customer Support</h4>

        <div class="row mb-4">
          <!-- Contact Us -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-body">
                <h5 class="card-title mb-3">Contact Us</h5>
                <ul class="list-unstyled">
                  <li class="mb-2">
                    <i class="bi bi-envelope me-2"></i>
                    <strong>Email:</strong>
                    <span class="text-primary">support@bookstore.com</span>
                  </li>
                  <li class="mb-2">
                    <i class="bi bi-telephone me-2"></i>
                    <strong>Phone:</strong>
                    <span class="text-primary">+91 1800-123-4567</span>
                  </li>
                  <li>
                    <i class="bi bi-clock me-2"></i>
                    <strong>Hours:</strong>
                    <span>Mon - Sat: 9:00 AM - 6:00 PM</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Help Center -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-body">
                <h5 class="card-title mb-3">Help Center</h5>
                <div class="list-group list-group-flush">
                  <a href="#" class="list-group-item list-group-item-action">
                    <i class="bi bi-question-circle me-2"></i> FAQs
                  </a>
                  <a href="#" class="list-group-item list-group-item-action">
                    <i class="bi bi-truck me-2"></i> Shipping & Delivery
                  </a>
                  <a href="#" class="list-group-item list-group-item-action">
                    <i class="bi bi-arrow-return-left me-2"></i> Returns & Refunds
                  </a>
                  <a href="#" class="list-group-item list-group-item-action">
                    <i class="bi bi-shield-check me-2"></i> Privacy Policy
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Submit Query Form -->
        <h5 class="mb-3">Submit a Query</h5>
        <div class="card">
          <div class="card-body">
            {% if messages %}
              {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              {% endfor %}
            {% endif %}
            <form method="POST" action="{% url 'user_cust_care' %}">
              {% csrf_token %}
              <div class="row mb-3">
                <div class="col-md-6 mb-3">
                  <label for="querySubject" class="form-label">Subject <span class="text-danger">*</span></label>
                  <input
                    type="text"
                    class="form-control"
                    id="querySubject"
                    name="subject"
                    placeholder="Enter subject"
                    required
                  />
                </div>
                <div class="col-md-6 mb-3">
                  <label for="queryCategory" class="form-label">Category <span class="text-danger">*</span></label>
                  <select class="form-select" id="queryCategory" name="category" required>
                    <option value="">Select category</option>
                    <option value="Order Related">Order Related</option>
                    <option value="Payment Related">Payment Related</option>
                    <option value="Product Related">Product Related</option>
                    <option value="Shipping Related">Shipping Related</option>
                    <option value="Returns & Refunds">Returns & Refunds</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
              </div>
              <div class="mb-3">
                <label for="queryMessage" class="form-label">Message <span class="text-danger">*</span></label>
                <textarea
                  class="form-control"
                  id="queryMessage"
                  name="message"
                  rows="4"
                  placeholder="Describe your issue in detail"
                  required
                ></textarea>
              </div>
              <button type="submit" class="btn btn-primary w-100">Submit Query</button>
            </form>
          </div>
        </div>
      </div> <!-- end content-wrapper -->
    </div> <!-- end main content -->
  </div> <!-- end row -->
</div> <!-- end container -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% if messages %}
<script>
  $(document).ready(function() {
    {% for message in messages %}
      {% if message.tags == 'success' %}
        if (typeof toastr !== 'undefined') {
          toastr.success('{{ message }}');
        } else {
          alert('{{ message }}');
        }
      {% elif message.tags == 'error' %}
        if (typeof toastr !== 'undefined') {
          toastr.error('{{ message }}');
        } else {
          alert('{{ message }}');
        }
      {% endif %}
    {% endfor %}
  });
</script>
{% endif %}

{% include 'includes/footer.html' %}
