{% extends "admin/admin_base.html" %}

{% block heading %}
<h2 class="fw-semibold mb-0" style="font-size: 1.5rem; color: #1e293b;">Edit Coupon</h2>
{% endblock heading %}

{% block content %}
<div class="container-fluid mt-4">
  <div class="card shadow-sm" style="border-radius: 10px; border: none;">
    <div class="card-body" style="padding: 1.5rem;">
      <form method="post" novalidate>
        {% csrf_token %}

        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Coupon Code</label>
            <input type="text" class="form-control" name="code" value="{{ coupon.code }}">
          </div>
          <div class="col-md-8">
            <label class="form-label">Description</label>
            <input type="text" class="form-control" name="description" value="{{ coupon.description }}">
          </div>
          <div class="col-md-4">
            <label class="form-label">Discount Type</label>
            <select name="discount_type" class="form-select">
              <option value="percentage" {% if coupon.discount_type == 'percentage' %}selected{% endif %}>Percentage</option>
              <option value="fixed" {% if coupon.discount_type == 'fixed' %}selected{% endif %}>Fixed Amount</option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">Discount Value</label>
            <input type="number" step="0.01" class="form-control" name="discount_value" value="{{ coupon.discount_value }}">
          </div>
          <div class="col-md-4">
            <label class="form-label">Minimum Order Amount</label>
            <input type="number" step="0.01" class="form-control" name="minimum_amount" value="{{ coupon.minimum_amount }}">
          </div>
          <div class="col-md-4">
            <label class="form-label">Maximum Discount (optional)</label>
            <input type="number" step="0.01" class="form-control" name="maximum_discount" value="{{ coupon.maximum_discount }}">
          </div>
          <div class="col-md-4">
            <label class="form-label">Valid From</label>
            <input type="datetime-local" class="form-control" name="valid_from" value="{{ coupon.valid_from|date:'Y-m-d\\TH:i' }}">
          </div>
          <div class="col-md-4">
            <label class="form-label">Valid Until</label>
            <input type="datetime-local" class="form-control" name="valid_until" value="{{ coupon.valid_until|date:'Y-m-d\\TH:i' }}">
          </div>
          <div class="col-md-4 d-flex align-items-center mt-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="is_active" id="is_active" {% if coupon.is_active %}checked{% endif %}>
              <label class="form-check-label" for="is_active">Active</label>
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-end mt-4 gap-2">
          <a href="{% url 'coupon_list' %}" class="btn btn-outline-secondary">Cancel</a>
          <button class="btn btn-primary" style="background-color:#2563eb;">Update Coupon</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}

